@page
@model QuaLuuNiem.Pages.Admin.QuanLySanPhamModel
@{
    ViewData["Title"] = "Quản Lý Sản Phẩm";
}

<h3 style="margin-top: 10px">Quản Lý Sản Phẩm</h3>
<a asp-page="/SanPhams/Create" class="btn btn-primary">Thêm Sản Phẩm</a>
<hr />


<div class="danhsach" style="display: grid; grid-template-columns: repeat(4, 1fr); margin-top: 20px">
    @foreach (var item in Model.SanPham)
    {
        <div class="item" style="border: 2px solid black; margin: 10px; display: flex; flex-direction: column; align-items: center; text-decoration: none;   background-color: white">
            <img src="@Url.Content("~/hinhanh/" + item.HinhAnh)" alt="@item.TenSP" style="max-width: 250px; height: auto; max-height: 250px" />
            <label style="margin: 0px 10px; text-align: center; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; height: 3.3em">@item.TenSP</label>
            <span style="margin-bottom: 10px; margin-left: -30px">
                <label style="color: red; font-size: 10px; text-decoration: underline">đ</label>
                <label style="color: red;">@item.Gia</label>
            </span>
            <div style="margin-bottom: 10px">
                <a asp-page="/SanPhams/Edit" asp-route-id="@item.ID" class="btn btn-primary">Sửa</a>
                <form method="post" asp-page-handler="Delete" asp-route-id="@item.ID" style="display:inline">
                    <button type="submit" class="btn btn-danger">Xóa</button>
                </form>
            </div>
        </div>
    }
</div>

@section Scripts {
    <script>
        document.querySelectorAll('.detail-button').forEach(button => {
            button.addEventListener('click', function () {
                const id = this.parentElement.getAttribute('data-id');
                const url = `/Details?id=${id}`;
                window.location.href = url;
            });
        });
    </script>
}

<style>
    .item {
        transition: border 0.3s ease, transform 0.3s;
    }

        .item:hover {
            border: 1px solid red;
            transform: translateX(0px) translateY(-5px);
            cursor: pointer;
        }
</style>
