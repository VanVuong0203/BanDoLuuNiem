@page "{id?}"
@model QuaLuuNiem.Pages.HoaDons.IndexModel

@{
    ViewData["Title"] = "Chi tiết hóa đơn";
}

<body>
@if (Model.HoaDon != null && Model.HoaDon.Any())
{
    var hoaDon = Model.HoaDon.First();
    <div class="all" >
        <h4>HÓA ĐƠN BÁN HÀNG</h4>
        <div class="thongtin">
            <div class="khachhang">
                <p>Khách Hàng: @Model.KhachHang?.HoTen</p>
                <p>Số Điện Thoại: @Model.KhachHang?.SDT</p>
                <p>Địa Chỉ: @Model.KhachHang?.DiaChi</p>
            </div>
            <div class="shop">
                <p>Địa chỉ: 172 An Dương Vương - P.Nguyễn Văn Cừ - TP. Quy Nhơn - Bình Đình</p>
                <p>Số Điện Thoại: 0984858394</p>
                <p>Email: cuahangluuniem172@gmail.com</p>
            </div>
        </div>

        <table class="table">
            <thead>
                <tr>
                    <th>Tên Sản Phẩm</th>
                    <th style="text-align: center">Số Lượng</th>
                    <th style="text-align: center">Giá</th>
                    <th style="text-align: center">Thành Tiền</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var sp in Model.SanPham)
                {
                    var cthd = Model.ChiTietHoaDon.FirstOrDefault(c => c.MaSP == sp.MaSP);
                    <tr>
                        <td>@sp.TenSP</td>
                        <td>@cthd?.SoLuong</td>
                        <td>@cthd?.Gia</td>
                        <td style="text-align: center">@(cthd?.SoLuong * cthd?.Gia)</td>
                    </tr>
                }
            </tbody>
        </table>
        <p style="font-weight:600">
            Tổng cộng: @hoaDon.TongTien
        </p>
        <p style="float: right; font-weight:600">Ngày @hoaDon.NgayBan.Day Tháng @hoaDon.NgayBan.Month Năm @hoaDon.NgayBan.Year</p>
        <p style="text-align: center; margin-top: 70px">Cảm ơn quý khách đã ủng hộ!</p>
    </div>
}
else
{
    <p>Không tìm thấy hóa đơn.</p>
}
</body>
 <style>
    .all {
        margin-top: 20px;
        background-color: white;
        width: 70%;
        margin-left: 200px;
        border: 1px solid black;
        padding: 20px 50px;
    }

        .all h4 {
            text-align: center;
            font-family:Cambria, Cochin, Georgia, Times, Times New Roman, serif;
            font-size: 40px;
            margin-bottom: 40px;
            font-weight: bold;
        }

    .thongtin {
        display: flex;
    }

    .khachhang {
        width: 200px;
    }

    .shop {
        margin-left: 200px;
        width: 350px;
        float: left;
    }

    table td {
        border: 1px solid black;
    }
</style>
  
